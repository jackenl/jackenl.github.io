---
title: 数据结构
tags:
- 前端
- 数据结构
categories: 面试指南
---

这是一篇学习数据结构的学习笔记，通过javascript实现。

<!-- more -->

## 数组

### 数组扁平化

实现方法有以下几种：

#### 循环递归

``` bash
function flatten(arr) {
  let result = []
  for (let i = 0; i < arr.length; i++) {
    if (Array.isArray(arr[i])) {
      result = result.concat(flatten(arr[i]))
    } else {
      result.push(arr[i])
    }
  }
  return result
}
```

#### toString

``` bash
function flatten(arr) {
  return arr.toString().split(',').map((item) => {
    return +item
  })
}
```

#### reduce

``` bash
function flatten(arr) {
  return arr.reduce((pre, cur) => {
    return pre.concat(Array.isArray(cur) ? flatten(cur) : cur)
  }, [])
}
```

#### ES6 扩展运算符

``` bash
function flatten(arr) {
  while (arr.some((item) => Array.isArray(item))) {
    arr = [].concat(...arr)
  }
  return arr
}
```

### 数组去重

#### 双重循环

``` bash
// 实现一：
function ArrayUnique(arr) {
  let result = []
  let isRepeat
  for (let i = 0; i < arr.length; i++) {
    isRepeat = false
    for (let j = 0; j < result.length; j++) {
      if (arr[i] === result[j]) {
        isRepeat = true
        break
      }
    }
    if (!isRepeat) {
      result.push(arr[i])
    }
  }
  return result
}

// 实现二：
function ArrayUnique(arr) {
  let result = []
  let isRepeat
  for (let i = 0; i < arr.length; i++) {
    isRepeat = false
    for (let j = i + 1; j < arr.length; j++) {
      if (arr[i] === arr[j]) {
        isRepeat = true
        break
      }
    }
    if (!esRepeat) {
      result.push(arr[i])
    }
  }
  return result
}

// 实现三：基于实现二的写法改进版
function ArrayUnique(arr) {
  let result = []
  for (let i = 0; i < arr.length; i++) {
    for (let j = i + 1; j < arr.length; j++) {
      if (arr[i] === arr[j]) {
        j = ++i
      }
    }
    result.push(arr[i])
  }
  return result
}
```

#### Array.prototype.indexOf()

``` bash
// 实现一：
function ArrayUnique(arr) {
  return arr.filter((item, index) => {
    return arr.indexOf(item) === index
  })
}

// 实现二：
function ArrayUnique(arr) {
  const result = []
  arr.forEach((item) => {
    if (result.indexOf(item) === -1) {
      result.push(item)
    }
  })
  return result
}
```

#### Array.prototype.sort()

``` bash
// 实现一：
function ArrayUnique(arr) {
  const result = []
  arr.sort()
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] !== arr[j]) {
      result.push(arr[i])
    }
  }
  return result
}

// 实现二：
function ArrayUnique(arr) {
  const result = []
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] !== result[result.length - 1]) {
      result.push(arr[i])
    }
  }
  return result
}
```

#### Array.prototype.includes()

``` bash
function ArrayUnique(arr) {
  const result = []
  arr.forEach((item) => {
    if (!result.includes(item)) {
      result.push(item)
    }
  })
  return result
}
```

#### Array.prototype.reduce()

``` bash
function ArrayUnique(arr) {
  return arr.sort().reduce((pre, cur) => {
    if (pre.length === 0 || pre[pre.length - 1] !== cur) {
      result.push(cur)
    }
    return pre
  }, [])
}
```

#### Map

``` bash
// 实现一：
function ArrayUnique(arr) {
  const result = []
  const map = new Map()
  for (let i = 0; i < arr.length; i++) {
    if (!map.get(arr[i])) {
      map.set(arr[i], 1)
      result.push(arr[i])
    }
  }
  return result
}

// 实现二：
function ArrayUnique(arr) {
  const map = new Map()
  return arr.filter((item) => {
    return !map.has(item) && map.set(item, 1)
  })
}
```

#### Set

``` bash
// 实现一：
function ArrayUnique(arr) {
  const set new Set(arr)
  return Array.from(set)
}

function ArrayUnique(arr) {
  return [...new Set(arr)]
}
```
